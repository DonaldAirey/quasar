//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:2.0.50727.42
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace MarkThree.Guardian.External
{
    using MarkThree.Guardian;
    using MarkThree.Guardian.Server;
    using MarkThree;
    using System;
    using System.Collections;
    using System.Data;
    using System.Data.SqlClient;
    
    
    [System.ComponentModel.DesignerCategoryAttribute("code")]
    [System.Diagnostics.DebuggerStepThrough()]
    public class Blotter : Object
    {
        
        /// <summary>Collects the table lock request(s) for an 'Load' operation</summary>
        /// <param name="adoTransaction">A collection of table locks required for this operation</param>
        public new static void Load(AdoTransaction adoTransaction)
        {
            // Call the internal methods to lock the tables required for an insert or update operation.
            MarkThree.Guardian.Core.Blotter.Insert(adoTransaction);
            MarkThree.Guardian.Core.Blotter.Update(adoTransaction);
            // These table lock(s) are required for the 'Load' operation.
            adoTransaction.LockRequests.AddReaderLock(ServerMarketData.BlotterLock);
            adoTransaction.LockRequests.AddReaderLock(ServerMarketData.ConfigurationLock);
            adoTransaction.LockRequests.AddReaderLock(ServerMarketData.TypeLock);
            adoTransaction.LockRequests.AddReaderLock(ServerMarketData.ObjectLock);
            adoTransaction.LockRequests.AddReaderLock(ServerMarketData.PartyTypeLock);
            adoTransaction.LockRequests.AddReaderLock(ServerMarketData.StylesheetLock);
        }
        
        /// <summary>Loads a Blotter record using Metadata Parameters.</summary>
        /// <param name="transaction">Contains the parameters and exceptions for this command.</param>
        public new static void Load(ParameterList parameters)
        {
            // Accessor for the Blotter Table.
            ServerMarketData.BlotterDataTable blotterTable = ServerMarketData.Blotter;
            // Extract the parameters from the command batch.
            AdoTransaction adoTransaction = parameters["adoTransaction"];
            SqlTransaction sqlTransaction = parameters["sqlTransaction"];
            object configurationId = parameters["configurationId"].Value;
            object description = parameters["description"].Value;
            object groupPermission = parameters["groupPermission"].Value;
            object hidden = parameters["hidden"].Value;
            string name = parameters["name"];
            object owner = parameters["owner"].Value;
            object ownerPermission = parameters["ownerPermission"].Value;
            object readOnly = parameters["readOnly"].Value;
            object worldPermission = parameters["worldPermission"].Value;
            object externalAdvertisementStylesheetId = parameters["advertisementStylesheetId"].Value;
            string externalBlotterId = parameters["blotterId"];
            object externalDestinationOrderDetailStylesheetId = parameters["destinationOrderDetailStylesheetId"].Value;
            object externalDestinationOrderStylesheetId = parameters["destinationOrderStylesheetId"].Value;
            object externalExecutionDetailStylesheetId = parameters["executionDetailStylesheetId"].Value;
            object externalExecutionStylesheetId = parameters["executionStylesheetId"].Value;
            object externalMatchStylesheetId = parameters["matchStylesheetId"].Value;
            object externalMatchHistoryStylesheetId = parameters["matchHistoryStylesheetId"].Value;
            string externalPartyTypeCode = parameters["partyTypeCode"];
            object externalSourceOrderDetailStylesheetId = parameters["sourceOrderDetailStylesheetId"].Value;
            object externalSourceOrderStylesheetId = parameters["sourceOrderStylesheetId"].Value;
            object externalTypeCode = parameters["typeCode"].Value;
            object externalWorkingOrderStylesheetId = parameters["workingOrderStylesheetId"].Value;
            // The row versioning is largely disabled for external operations.  The value is returned to the caller in the
            // event it's needed for operations within the batch.
            long rowVersion = long.MinValue;
            // Resolve External Identifiers
            object advertisementStylesheetId = Stylesheet.FindOptionalKey(configurationId, "advertisementStylesheetId", externalAdvertisementStylesheetId);
            int blotterId = Object.FindKey(configurationId, "blotterId", externalBlotterId);
            object destinationOrderDetailStylesheetId = Stylesheet.FindOptionalKey(configurationId, "destinationOrderDetailStylesheetId", externalDestinationOrderDetailStylesheetId);
            object destinationOrderStylesheetId = Stylesheet.FindOptionalKey(configurationId, "destinationOrderStylesheetId", externalDestinationOrderStylesheetId);
            object executionDetailStylesheetId = Stylesheet.FindOptionalKey(configurationId, "executionDetailStylesheetId", externalExecutionDetailStylesheetId);
            object executionStylesheetId = Stylesheet.FindOptionalKey(configurationId, "executionStylesheetId", externalExecutionStylesheetId);
            object matchStylesheetId = Stylesheet.FindOptionalKey(configurationId, "matchStylesheetId", externalMatchStylesheetId);
            object matchHistoryStylesheetId = Stylesheet.FindOptionalKey(configurationId, "matchHistoryStylesheetId", externalMatchHistoryStylesheetId);
            int partyTypeCode = PartyType.FindRequiredKey(configurationId, "partyTypeCode", externalPartyTypeCode);
            object sourceOrderDetailStylesheetId = Stylesheet.FindOptionalKey(configurationId, "sourceOrderDetailStylesheetId", externalSourceOrderDetailStylesheetId);
            object sourceOrderStylesheetId = Stylesheet.FindOptionalKey(configurationId, "sourceOrderStylesheetId", externalSourceOrderStylesheetId);
            object typeCode = Type.FindOptionalKey(configurationId, "typeCode", externalTypeCode);
            object workingOrderStylesheetId = Stylesheet.FindOptionalKey(configurationId, "workingOrderStylesheetId", externalWorkingOrderStylesheetId);
            ServerMarketData.BlotterRow blotterRow = blotterTable.FindByBlotterId(blotterId);
            // The load operation will create a record if it doesn't exist, or update an existing record.  The external
            // identifier is used to determine if a record exists with the same key.
            if ((blotterRow == null))
            {
                // Populate the 'externalId' varaibles so that the external identifier can be used to find the row when an
                // external method is called with the same 'configurationId' parameter.
                int externalKeyIndex = Blotter.GetExternalKeyIndex(configurationId, "blotterId");
                object[] externalIdArray = new object[8];
                externalIdArray[externalKeyIndex] = externalBlotterId;
                object externalId0 = externalIdArray[0];
                object externalId1 = externalIdArray[1];
                object externalId2 = externalIdArray[2];
                object externalId3 = externalIdArray[3];
                object externalId4 = externalIdArray[4];
                object externalId5 = externalIdArray[5];
                object externalId6 = externalIdArray[6];
                object externalId7 = externalIdArray[7];
                // Call the internal method to complete the operation.
                MarkThree.Guardian.Core.Blotter.Insert(adoTransaction, sqlTransaction, ref rowVersion, description, externalId0, externalId1, externalId2, externalId3, externalId4, externalId5, externalId6, externalId7, groupPermission, hidden, name, owner, ownerPermission, readOnly, worldPermission, advertisementStylesheetId, destinationOrderDetailStylesheetId, destinationOrderStylesheetId, executionDetailStylesheetId, executionStylesheetId, matchStylesheetId, matchHistoryStylesheetId, partyTypeCode, sourceOrderDetailStylesheetId, sourceOrderStylesheetId, typeCode, workingOrderStylesheetId);
            }
            else
            {
                // While the optimistic concurrency checking is disabled for the external methods, the internal methods
                // still need to perform the check.  This ncurrency checking logic by finding the current row version to be
                // will bypass the coused when the internal method is called.
                rowVersion = ((long)(blotterRow[blotterTable.RowVersionColumn]));
                // Call the internal method to complete the operation.
                MarkThree.Guardian.Core.Blotter.Update(adoTransaction, sqlTransaction, ref rowVersion, description, null, null, null, null, null, null, null, null, groupPermission, hidden, name, owner, ownerPermission, readOnly, worldPermission, advertisementStylesheetId, blotterId, destinationOrderDetailStylesheetId, destinationOrderStylesheetId, executionDetailStylesheetId, executionStylesheetId, matchStylesheetId, matchHistoryStylesheetId, partyTypeCode, sourceOrderDetailStylesheetId, sourceOrderStylesheetId, typeCode, workingOrderStylesheetId);
            }
            // Return values.
            parameters["rowVersion"] = rowVersion;
        }
        
        /// <summary>Collects the table lock request(s) for an 'Update' operation</summary>
        /// <param name="adoTransaction">A collection of table locks required for this operation</param>
        public new static void Update(AdoTransaction adoTransaction)
        {
            // Call the internal methods to lock the tables required for an insert or update operation.
            MarkThree.Guardian.Core.Blotter.Insert(adoTransaction);
            MarkThree.Guardian.Core.Blotter.Update(adoTransaction);
            // These table lock(s) are required for the 'Update' operation.
            adoTransaction.LockRequests.AddReaderLock(ServerMarketData.BlotterLock);
            adoTransaction.LockRequests.AddReaderLock(ServerMarketData.ConfigurationLock);
            adoTransaction.LockRequests.AddReaderLock(ServerMarketData.TypeLock);
            adoTransaction.LockRequests.AddReaderLock(ServerMarketData.ObjectLock);
            adoTransaction.LockRequests.AddReaderLock(ServerMarketData.PartyTypeLock);
            adoTransaction.LockRequests.AddReaderLock(ServerMarketData.StylesheetLock);
        }
        
        /// <summary>Updates a Blotter record using Metadata Parameters.</summary>
        /// <param name="transaction">Contains the parameters and exceptions for this command.</param>
        public new static void Update(ParameterList parameters)
        {
            // Accessor for the Blotter Table.
            ServerMarketData.BlotterDataTable blotterTable = ServerMarketData.Blotter;
            // Extract the parameters from the command batch.
            AdoTransaction adoTransaction = parameters["adoTransaction"];
            SqlTransaction sqlTransaction = parameters["sqlTransaction"];
            object configurationId = parameters["configurationId"].Value;
            object description = parameters["description"].Value;
            object groupPermission = parameters["groupPermission"].Value;
            object hidden = parameters["hidden"].Value;
            object name = parameters["name"].Value;
            object owner = parameters["owner"].Value;
            object ownerPermission = parameters["ownerPermission"].Value;
            object readOnly = parameters["readOnly"].Value;
            object worldPermission = parameters["worldPermission"].Value;
            object externalAdvertisementStylesheetId = parameters["advertisementStylesheetId"].Value;
            string externalBlotterId = ((string)(parameters["blotterId"]));
            object externalDestinationOrderDetailStylesheetId = parameters["destinationOrderDetailStylesheetId"].Value;
            object externalDestinationOrderStylesheetId = parameters["destinationOrderStylesheetId"].Value;
            object externalExecutionDetailStylesheetId = parameters["executionDetailStylesheetId"].Value;
            object externalExecutionStylesheetId = parameters["executionStylesheetId"].Value;
            object externalMatchStylesheetId = parameters["matchStylesheetId"].Value;
            object externalMatchHistoryStylesheetId = parameters["matchHistoryStylesheetId"].Value;
            object externalPartyTypeCode = parameters["partyTypeCode"].Value;
            object externalSourceOrderDetailStylesheetId = parameters["sourceOrderDetailStylesheetId"].Value;
            object externalSourceOrderStylesheetId = parameters["sourceOrderStylesheetId"].Value;
            object externalTypeCode = parameters["typeCode"].Value;
            object externalWorkingOrderStylesheetId = parameters["workingOrderStylesheetId"].Value;
            // The row versioning is largely disabled for external operations.  The value is returned to the caller in the
            // event it's needed for operations within the batch.
            long rowVersion = long.MinValue;
            // Resolve External Identifiers
            object advertisementStylesheetId = Stylesheet.FindOptionalKey(configurationId, "advertisementStylesheetId", externalAdvertisementStylesheetId);
            int blotterId = Object.FindRequiredKey(configurationId, "blotterId", externalBlotterId);
            object destinationOrderDetailStylesheetId = Stylesheet.FindOptionalKey(configurationId, "destinationOrderDetailStylesheetId", externalDestinationOrderDetailStylesheetId);
            object destinationOrderStylesheetId = Stylesheet.FindOptionalKey(configurationId, "destinationOrderStylesheetId", externalDestinationOrderStylesheetId);
            object executionDetailStylesheetId = Stylesheet.FindOptionalKey(configurationId, "executionDetailStylesheetId", externalExecutionDetailStylesheetId);
            object executionStylesheetId = Stylesheet.FindOptionalKey(configurationId, "executionStylesheetId", externalExecutionStylesheetId);
            object matchStylesheetId = Stylesheet.FindOptionalKey(configurationId, "matchStylesheetId", externalMatchStylesheetId);
            object matchHistoryStylesheetId = Stylesheet.FindOptionalKey(configurationId, "matchHistoryStylesheetId", externalMatchHistoryStylesheetId);
            object partyTypeCode = PartyType.FindOptionalKey(configurationId, "partyTypeCode", externalPartyTypeCode);
            object sourceOrderDetailStylesheetId = Stylesheet.FindOptionalKey(configurationId, "sourceOrderDetailStylesheetId", externalSourceOrderDetailStylesheetId);
            object sourceOrderStylesheetId = Stylesheet.FindOptionalKey(configurationId, "sourceOrderStylesheetId", externalSourceOrderStylesheetId);
            object typeCode = Type.FindOptionalKey(configurationId, "typeCode", externalTypeCode);
            object workingOrderStylesheetId = Stylesheet.FindOptionalKey(configurationId, "workingOrderStylesheetId", externalWorkingOrderStylesheetId);
            // This disables the concurrency checking logic by finding the current row version and passing it to the
            // internal method.
            ServerMarketData.BlotterRow blotterRow = blotterTable.FindByBlotterId(blotterId);
            rowVersion = ((long)(blotterRow[blotterTable.RowVersionColumn]));
            // Call the internal method to complete the operation.
            MarkThree.Guardian.Core.Blotter.Update(adoTransaction, sqlTransaction, ref rowVersion, description, null, null, null, null, null, null, null, null, groupPermission, hidden, name, owner, ownerPermission, readOnly, worldPermission, advertisementStylesheetId, blotterId, destinationOrderDetailStylesheetId, destinationOrderStylesheetId, executionDetailStylesheetId, executionStylesheetId, matchStylesheetId, matchHistoryStylesheetId, partyTypeCode, sourceOrderDetailStylesheetId, sourceOrderStylesheetId, typeCode, workingOrderStylesheetId);
            // Return values.
            parameters["rowVersion"] = rowVersion;
        }
        
        /// <summary>Collects the table lock request(s) for an 'Delete' operation</summary>
        /// <param name="adoTransaction">A collection of table locks required for this operation</param>
        public new static void Delete(AdoTransaction adoTransaction)
        {
            // Call the internal methods to lock the tables required for an insert or update operation.
            MarkThree.Guardian.Core.Blotter.Delete(adoTransaction);
            // These table lock(s) are required for the 'Delete' operation.
            adoTransaction.LockRequests.AddReaderLock(ServerMarketData.BlotterLock);
            adoTransaction.LockRequests.AddReaderLock(ServerMarketData.ConfigurationLock);
        }
        
        /// <summary>Deletes a Blotter record using Metadata Parameters.</summary>
        /// <param name="transaction">Contains the parameters and exceptions for this command.</param>
        public new static void Delete(ParameterList parameters)
        {
            // Accessor for the Blotter Table.
            ServerMarketData.BlotterDataTable blotterTable = ServerMarketData.Blotter;
            // Extract the parameters from the command batch.
            AdoTransaction adoTransaction = parameters["adoTransaction"];
            SqlTransaction sqlTransaction = parameters["sqlTransaction"];
            object configurationId = parameters["configurationId"].Value;
            string externalBlotterId = parameters["blotterId"];
            // The row versioning is largely disabled for external operations.  The value is returned to the caller in the
            // event it's needed for operations within the batch.
            long rowVersion = long.MinValue;
            // Find the internal identifier using the primary key elements.
            // identifier is used to determine if a record exists with the same key.
            int blotterId = Blotter.FindRequiredKey(configurationId, "blotterId", externalBlotterId);
            // This disables the concurrency checking logic by finding the current row version and passing it to the
            // internal method.
            ServerMarketData.BlotterRow blotterRow = blotterTable.FindByBlotterId(blotterId);
            rowVersion = ((long)(blotterRow[blotterTable.RowVersionColumn]));
            // Call the internal method to complete the operation.
            MarkThree.Guardian.Core.Blotter.Delete(adoTransaction, sqlTransaction, rowVersion, blotterId);
        }
        
        /// <summary>Collects the table lock request(s) for an 'Archive' operation</summary>
        /// <param name="adoTransaction">A collection of table locks required for this operation</param>
        public new static void Archive(AdoTransaction adoTransaction)
        {
            // Call the internal methods to lock the tables required for an insert or update operation.
            MarkThree.Guardian.Core.Blotter.Archive(adoTransaction);
            // These table lock(s) are required for the 'Archive' operation.
            adoTransaction.LockRequests.AddReaderLock(ServerMarketData.BlotterLock);
            adoTransaction.LockRequests.AddReaderLock(ServerMarketData.ConfigurationLock);
        }
        
        /// <summary>Archives a Blotter record using Metadata Parameters.</summary>
        /// <param name="transaction">Contains the parameters and exceptions for this command.</param>
        public new static void Archive(ParameterList parameters)
        {
            // Accessor for the Blotter Table.
            ServerMarketData.BlotterDataTable blotterTable = ServerMarketData.Blotter;
            // Extract the parameters from the command batch.
            AdoTransaction adoTransaction = parameters["adoTransaction"];
            SqlTransaction sqlTransaction = parameters["sqlTransaction"];
            object configurationId = parameters["configurationId"].Value;
            string externalBlotterId = parameters["blotterId"];
            // The row versioning is largely disabled for external operations.  The value is returned to the caller in the
            // event it's needed for operations within the batch.
            long rowVersion = long.MinValue;
            // Find the internal identifier using the primary key elements.
            // identifier is used to determine if a record exists with the same key.
            int blotterId = Blotter.FindRequiredKey(configurationId, "blotterId", externalBlotterId);
            // This disables the concurrency checking logic by finding the current row version and passing it to the
            // internal method.
            ServerMarketData.BlotterRow blotterRow = blotterTable.FindByBlotterId(blotterId);
            rowVersion = ((long)(blotterRow[blotterTable.RowVersionColumn]));
            // Call the internal method to complete the operation.
            MarkThree.Guardian.Core.Blotter.Archive(adoTransaction, sqlTransaction, rowVersion, blotterId);
        }
    }
}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
